const selectElement=document.querySelector('.chapter-nav');selectElement.addEventListener('change',(event)=>{let chapter=document.location.pathname
let val=chapter.split("/")
if(val.length===3){document.location=event.target.value}else if(val.length===2){document.location=val[1]+"/"+event.target.value}});const sections=document.querySelectorAll('h2');document.addEventListener("scroll",()=>{let limit=Math.floor(window.scrollY+window.innerHeight/2);let currentSection=undefined;for(let i=0;i<sections.length;i++){if(sections[i].offsetTop>limit)break;currentSection=sections[i]}
if(!("history" in window&&"replaceState" in window.history))return;if(currentSection!==undefined){let slug=currentSection.getAttribute('id');if(slug!==location.hash.replace('#','')){history.replaceState({scroll:!0},'','#'+slug)}}else if(location.hash.replace('#','')!==''&&location.pathname){history.replaceState({scroll:!0},'',location.pathname)}});leadCapture=()=>{if(!('localStorage' in window))return;let showed=!!localStorage.getItem('lead-capture-show');if(!showed){show()}};const overlay=window.document.querySelector('.overlay');show=()=>{let body=window.document.querySelector('.form-lead');overlay.classList.add('form-overlay');body.classList.add('lead-capture-active');localStorage.setItem('lead-capture-show',new Date().getTime())};hide=()=>{let body=window.document.querySelector('.form-lead');overlay.classList.remove('form-overlay')
body.classList.remove('lead-capture-active');localStorage.setItem('lead-capture-closed',new Date().getTime())};overlay.addEventListener('click',hide);leadCapture()